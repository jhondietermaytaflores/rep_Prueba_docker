on:
    push:
        branches:
            - main
            - dev

jobs:
    build-and-push:
        runs-on : ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v5
            
            - name: login a dockerhub
              uses: docker/login-action@v3
              with:
                  username: ${{ secrets.DOCKER_USER }}
                  password: ${{ secrets.DOCKER_PASSWORD }}

            - name: Build La imagen docker
              run: docker build -t ${{secrets.DOCKER_USER}}/univ-prueba:latest .

            - name: Publica imagen a dockerhub
              run: docker push ${{secrets.DOCKER_USER}}/univ-prueba:latest
            
            